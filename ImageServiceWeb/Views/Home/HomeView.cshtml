@model IEnumerable<ImageServiceWeb.Models.Student>
@{
    ViewBag.Title = "HomeView";
}

<h2>Home</h2>

<div>
    <h2>Students</h2>
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.FirstName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.LastName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ID)
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.FirstName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.LastName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ID)
                </td>
            </tr>
        }

    </table>
    <div>
        <h2>Service Status</h2>
        <p> Status: </p>
        <input type="text" id="stat" size="5" />
        <p> Number of Images: </p>
        <input type="text" id="imgNum" size="5" />
        <p></p>
        <input type="button" id="btnConnect" value="Connect to Service" />
    </div>
</div>

<script>
    $("#btnConnect").click(function () {
        var input = {
            status:$("#stat").val(),
            num: $("#imgNum").val()
        };
        $.post("@Url.Action("GetStatus")", input, function (data) {
            $("#lstProducts").append("<li>" + data.FirstName + " " + data.LastName + " : $" + data.Salary + "</li>");
        }, "json");
    });
</script>
